(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,r){e.exports={linkCreateProject:"NewProject_linkCreateProject__3EsT8"}},50:function(e,t,r){},51:function(e,t,r){},9:function(e,t,r){e.exports={cardBackLog:"Dashboard_cardBackLog__2oSoC",overflow:"Dashboard_overflow__2v7qK",backlog:"Dashboard_backlog__2Omr4",buttonBacklog:"Dashboard_buttonBacklog__1FMFV",buttonInprogress:"Dashboard_buttonInprogress__2QkBb",buttonCompleted:"Dashboard_buttonCompleted___wPum",inprogress:"Dashboard_inprogress__omgzz",cardInProgress:"Dashboard_cardInProgress__lXw9L",completed:"Dashboard_completed__15lB2",linkAdd:"Dashboard_linkAdd__3_Vqg"}},90:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(41),s=r.n(n),o=(r(50),r(51),r(5)),i=r.n(o),l=r(13),u=r(19),j=r(2),d=r(7),b=r(91),p=r(92),h=r(93),m=r(6),f=r.n(m),x=r(14),O=r.n(x),g=r(0),v=Object(c.createContext)(),N=function(e){var t=Object(c.useState)(null),r=Object(d.a)(t,2),a=r[0],n=r[1];return Object(g.jsx)(v.Provider,{value:{usuario:a,setUsuario:n},children:e.children})},_=r(3),w=function(){var e={username:"",email:"",password:"",confirm:""},t=Object(c.useState)(e),r=Object(d.a)(t,2),a=r[0],n=r[1],s=Object(c.useState)(e),o=Object(d.a)(s,2),m=o[0],x=o[1],N=Object(c.useContext)(v).setUsuario,w=Object(_.f)(),k=function(e){n(Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.password===a.confirm){e.next=4;break}return f.a.fire({title:"error",text:"Las contrase\xf1as no coinciden",icon:"error"}),e.abrupt("return",!1);case 4:return e.prev=4,e.next=7,O.a.post("http://localhost:8000/user",a);case 7:r=e.sent,console.log("onSubmitHandle: ".concat(r.data)),f.a.fire({title:"Usuario creado satisfactoriamente",text:"OK",icon:"success"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),f.a.fire({title:"Usuario no fue creado ".concat(e.t0.response.data.err.message," "),text:"Not OK",icon:"error"});case 16:y();case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){x(Object(j.a)(Object(j.a)({},m),{},Object(u.a)({},e.target.name,e.target.value)))},D=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.get("http://localhost:8000/user/".concat(m.email));case 4:r=e.sent,c=r.data.user,m.password===c.password?(console.log("Usuario encontrado en la bd"),f.a.fire({title:"Connected",text:"User Connected",icon:"success"}),y(),N(c),w.push("/")):(console.log("Usuario no encontrado en la BD"),f.a.fire({title:"User not found",text:"User Not Connected",icon:"error"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){n(e),x(e)};return Object(g.jsx)("div",{children:Object(g.jsx)(b.a,{children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)("h2",{children:"Project Manager"}),Object(g.jsx)(h.a,{children:Object(g.jsxs)("form",{onSubmit:P,children:[Object(g.jsx)("h3",{children:"Register"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Username"}),Object(g.jsx)("input",{className:"form-control",type:"text",name:"username",value:a.username,onChange:k,required:!0,minLength:"3"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Email"}),Object(g.jsx)("input",{className:"form-control",type:"email",name:"email",value:a.email,onChange:k,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Password"}),Object(g.jsx)("input",{className:"form-control",type:"password",name:"password",value:a.password,onChange:k,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Confirmar "}),Object(g.jsx)("input",{className:"form-control",type:"password",name:"confirm",value:a.confirm,onChange:k})]}),Object(g.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Registrar"})]})}),Object(g.jsx)(h.a,{children:Object(g.jsxs)("form",{onSubmit:D,children:[Object(g.jsx)("h3",{children:"Login"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Email"}),Object(g.jsx)("input",{className:"form-control",type:"email",name:"email",value:m.email,onChange:C,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Password"}),Object(g.jsx)("input",{className:"form-control",type:"password",name:"password",value:m.password,onChange:C,required:!0})]}),Object(g.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Login"})]})})]})})})},k=r(15),P=r(45),C=r.n(P),D=function(){var e={projectName:"",dueDate:""},t=Object(c.useState)(e),r=Object(d.a)(t,2),a=r[0],n=r[1],s=Object(_.f)(),o=Object(c.useContext)(v),m=o.usuario,x=(o.setUsuario,function(e){n(Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))}),N=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t),e.prev=2,e.next=5,O.a.post("http://localhost:8000/projects/new",a);case 5:r=e.sent,console.log("onSubmitHandle: ".concat(r.data)),f.a.fire({title:"Project creado satisfactoriamente",text:"OK",icon:"success"}),w(),s.push("/"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),f.a.fire({title:"Project no fue creado ".concat(e.t0.response.data.err.message," "),text:"Not OK",icon:"error"});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){n(e)};return Object(c.useEffect)((function(){m||s.push("/sign_in")}),[]),Object(g.jsx)("div",{children:Object(g.jsx)(b.a,{children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)("h1",{children:"Project Manager"}),Object(g.jsx)(k.b,{className:C.a.linkCreateProject,to:"/",children:"Back to dashboard"}),Object(g.jsx)(h.a,{children:Object(g.jsxs)("form",{onSubmit:N,children:[Object(g.jsx)("h4",{children:"Plan a New Project"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Project"}),Object(g.jsx)("input",{className:"form-control",type:"text",name:"projectName",value:a.projectName,onChange:x,required:!0,minLength:"3"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"",children:"Due Date"}),Object(g.jsx)("input",{className:"form-control",type:"date",name:"dueDate",value:a.dueDate,onChange:x,required:!0})]}),Object(g.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Plan a Project"})]})})]})})})},y=r(9),B=r.n(y),F=r(24),S=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),r=t[0],a=t[1],n=Object(c.useContext)(v),s=n.usuario,o=(n.setUsuario,Object(_.f)()),u=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("http://localhost:8000/projects");case 3:t=e.sent,console.log(t.data),a(t.data),console.log(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){s||o.push("/sign_in"),u()}),[]);var j=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("http://localhost:8000/projects/".concat(t,"/toprogress"));case 3:r=e.sent,console.log(r.data),f.a.fire({title:"Project updated InProgress",text:"OK",icon:"success"}),u(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f.a.fire({title:"Projecto no fue actualizado ".concat(e.t0.response.data.err.message," "),text:"Not OK",icon:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("http://localhost:8000/projects/".concat(t,"/tocompleted"));case 3:r=e.sent,console.log(r.data),f.a.fire({title:"Project updated to completed",text:"OK",icon:"success"}),u(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f.a.fire({title:"Project no fue actualizado ".concat(e.t0.response.data.err.message," "),text:"Not OK",icon:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("http://localhost:8000/projects/".concat(t)).then((function(e){f.a.fire({title:"Project Deleted",text:"Project eliminado",icon:"success"}),u()})).catch((function(e){f.a.fire({title:"Error",text:"No se pudo eliminar projecto ",icon:"error"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(b.a,{children:[Object(g.jsxs)(p.a,{children:[Object(g.jsx)("h2",{children:"Project Manager"}),Object(g.jsxs)(h.a,{className:B.a.overflow,children:[Object(g.jsx)("p",{className:B.a.backlog,children:"Backlog"}),r.filter((function(e){return"I"===e.status})).map((function(e){return Object(g.jsxs)("div",{className:B.a.cardBackLog,children:[Object(g.jsx)("h4",{children:e.projectName}),Object(g.jsxs)("p",{children:["Due: ",e.dueDate]}),Object(g.jsx)(F.a,{onClick:function(){return j(e._id)},className:B.a.buttonBacklog,children:"Start Project  >"})]},e._id)}))]}),Object(g.jsxs)(h.a,{className:B.a.overflow,children:[Object(g.jsx)("p",{className:B.a.inprogress,children:"In Progress"}),r.filter((function(e){return"P"===e.status})).map((function(e){return Object(g.jsxs)("div",{className:B.a.cardInProgress,children:[Object(g.jsx)("h4",{children:e.projectName}),Object(g.jsxs)("p",{children:["Due: ",e.dueDate]}),Object(g.jsx)(F.a,{onClick:function(){return m(e._id)},className:B.a.buttonInprogress,children:"Move to Completed  >"})]},e._id)}))]}),Object(g.jsxs)(h.a,{className:B.a.overflow,children:[Object(g.jsx)("p",{className:B.a.completed,children:"Completed"}),r.filter((function(e){return"C"===e.status})).map((function(e){return Object(g.jsxs)("div",{className:B.a.cardBackLog,children:[Object(g.jsx)("h4",{children:e.projectName}),Object(g.jsxs)("p",{children:["Due: ",e.dueDate]}),Object(g.jsx)(F.a,{onClick:function(){return x(e._id)},className:B.a.buttonCompleted,children:"Remove Project  >"})]},e._id)}))]})]}),Object(g.jsx)(k.b,{className:B.a.linkAdd,to:"/projects/new",children:"+ Add New Project"})]})};var L=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(N,{children:Object(g.jsx)(k.a,{children:Object(g.jsxs)(_.c,{children:[Object(g.jsx)(_.a,{exact:!0,path:"/",children:Object(g.jsx)(S,{})}),Object(g.jsx)(_.a,{exact:!0,path:"/projects/new",children:Object(g.jsx)(D,{})}),Object(g.jsx)(_.a,{exact:!0,path:"/sign_in",children:Object(g.jsx)(w,{})})]})})})})},U=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,94)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),c(e),a(e),n(e),s(e)}))};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(L,{})}),document.getElementById("root")),U()}},[[90,1,2]]]);
//# sourceMappingURL=main.7a07664f.chunk.js.map